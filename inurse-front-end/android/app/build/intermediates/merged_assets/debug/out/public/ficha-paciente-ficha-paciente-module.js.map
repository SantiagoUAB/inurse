{"version":3,"sources":["./src/app/ficha-paciente/ficha-paciente-routing.module.ts","./src/app/service/historical.service.ts","./src/app/ficha-paciente/ficha-paciente.page.html","./src/app/class/class.historical.ts","./src/app/ficha-paciente/ficha-paciente.page.scss","./src/app/ficha-paciente/ficha-paciente.page.ts","./src/app/ficha-paciente/ficha-paciente.module.ts"],"names":[],"mappings":"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","file":"ficha-paciente-ficha-paciente-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { FichaPacientePage } from './ficha-paciente.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FichaPacientePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class FichaPacientePageRoutingModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport {HttpClient} from '@angular/common/http';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HistoricalService {\r\n  urlHistorical: string;\r\n  constructor(private httpClient: HttpClient) {\r\n    this.urlHistorical = 'http://158.109.74.51:55001/appointment/';\r\n  }\r\n\r\n  getHistorical(idPaciente: number){\r\n\r\n    return this.httpClient.get(this.urlHistorical + '?patient=' + idPaciente);\r\n  }\r\n}\r\n","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n      <ion-back-button\\r\\n        text='back'\\r\\n        icon=\\\"chevron-back-outline\\\"\\r\\n      >\\r\\n      </ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Ficha Paciente</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content >\\r\\n  <ion-progress-bar [value]=\\\"this.progress\\\"  color=\\\"secondary\\\"  *ngIf=\\\"this.progress > 0\\\"></ion-progress-bar>\\r\\n  <ion-grid  class=\\\"ion-padding ion-margin\\\" >\\r\\n    <ion-row>\\r\\n      <ion-col  class=\\\"ion-padding-vertical\\\" >\\r\\n        <ion-title class=\\\"ion-no-padding ion-text-left\\\">Datos Paciente</ion-title>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row >\\r\\n      <ion-col  >\\r\\n        <ion-label  class=\\\"ion-no-padding \\\" >{{ this.patient?.lastName  }}, {{ this.patient?.firstName}} </ion-label>\\r\\n      </ion-col>\\r\\n      <ion-col>\\r\\n        <ion-icon [name]=\\\"this.patient?.isMale ? 'male-outline' : 'female-outline' \\\"></ion-icon>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row >\\r\\n        <ion-col  >\\r\\n          <ion-row>\\r\\n            <ion-label>Peso: {{this.patient?.weight}}</ion-label>\\r\\n          </ion-row>\\r\\n          <ion-row>\\r\\n            <ion-label class=\\\"ion-align-items-start\\\"> </ion-label>\\r\\n          </ion-row>\\r\\n\\r\\n        </ion-col>\\r\\n        <ion-col >\\r\\n          <ion-row>\\r\\n            <ion-label>Altura: {{this.patient?.height}}</ion-label>\\r\\n          </ion-row>\\r\\n          <ion-row>\\r\\n\\r\\n            <ion-label class=\\\"ion-align-items-end\\\"></ion-label>\\r\\n          </ion-row>\\r\\n\\r\\n        </ion-col>\\r\\n    </ion-row>\\r\\n\\r\\n    <ion-row class=\\\"ion-padding-top\\\">\\r\\n      <ion-col  >\\r\\n        <ion-title class=\\\"ion-no-padding ion-text-left \\\" >Estado actual</ion-title>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row>\\r\\n      <ion-col >\\r\\n\\r\\n        <ion-item class=\\\" \\\">\\r\\n\\r\\n          <ion-select value=\\\"3\\\" (ionChange)=\\\"this.onChangeStatus($event)\\\"  >\\r\\n            <ion-select-option value=\\\"0\\\">Sin estado</ion-select-option>\\r\\n            <ion-select-option class=\\\"1\\\" value=\\\"1\\\">En tratamiento</ion-select-option>\\r\\n            <ion-select-option value=\\\"2\\\">En cirugía</ion-select-option>\\r\\n            <ion-select-option value=\\\"3\\\" >Esperando resultados</ion-select-option>\\r\\n          </ion-select >\\r\\n        </ion-item>\\r\\n\\r\\n      </ion-col>\\r\\n\\r\\n    </ion-row>\\r\\n\\r\\n    <ion-row class=\\\"ion-padding-top\\\">\\r\\n      <ion-col   >\\r\\n        <ion-title class=\\\"ion-no-padding ion-text-left \\\" >Constantes</ion-title>\\r\\n      </ion-col>\\r\\n      <ion-col> <ion-button size=\\\"small\\\" [color]=\\\"this.isUpdateConstant? 'primary': 'light'\\\"  fill=\\\"outline\\\" (click)=\\\"postFilePatient()\\\" > <ion-icon name=\\\"save-outline\\\"></ion-icon></ion-button></ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row >\\r\\n        <ion-col  >\\r\\n          <ion-item>\\r\\n            <ion-label position=\\\"stacked\\\" >Tensión (mmHg)</ion-label>\\r\\n            <ion-input type=\\\"number\\\" [placeholder]=\\\"this.patient?.tension \\\" (ionChange)=\\\"onChangeConstants($event.target.id, $event.target.value)\\\" id=\\\"tension\\\"></ion-input>\\r\\n          </ion-item>\\r\\n        </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row>\\r\\n\\r\\n      <ion-col  >\\r\\n        <ion-item>\\r\\n          <ion-label position=\\\"stacked\\\">Temperatura (°C)</ion-label>\\r\\n          <ion-input type=\\\"number\\\" [placeholder]=\\\"this.patient?.temperature \\\" (ionChange)=\\\"onChangeConstants($event.target.id, $event.target.value)\\\" id=\\\"temperature\\\"></ion-input>\\r\\n        </ion-item>\\r\\n      </ion-col>\\r\\n\\r\\n\\r\\n    </ion-row>\\r\\n    <ion-row>\\r\\n\\r\\n        <ion-col >\\r\\n          <ion-item>\\r\\n            <ion-label position=\\\"stacked\\\">Frecuencia Cardiaca (lat/min)</ion-label>\\r\\n            <ion-input type=\\\"number\\\" [placeholder]=\\\"this.patient?.heardRate\\\" (ionChange)=\\\"onChangeConstants($event.target.id, $event.target.value)\\\" id=\\\"heardRate\\\"></ion-input>\\r\\n          </ion-item>\\r\\n        </ion-col>\\r\\n\\r\\n    </ion-row>\\r\\n    <ion-row id=\\\"title-history\\\">\\r\\n      <ion-col   >\\r\\n        <ion-title class=\\\"ion-no-padding ion-text-left\\\">Historial</ion-title>\\r\\n      </ion-col>\\r\\n      <ion-col>\\r\\n        <ion-button size=\\\"small\\\" color=\\\"primary\\\"  fill=\\\"outline\\\" (click)=addVisitaPaciente()>\\r\\n          <ion-icon  name=\\\"add-circle-outline\\\" class=\\\"button-add\\\"  ></ion-icon>\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n\\r\\n    </ion-row>\\r\\n    <ion-row>\\r\\n      <ion-col>\\r\\n        <ion-row>\\r\\n          <ion-col >\\r\\n            <ion-infinite-scroll  >\\r\\n              <ion-item *ngFor=\\\"let visit of this.historical?.visits\\\" (click)=verVisitaPaciente(visit.id) >\\r\\n<!--                <ion-label> {{visit.createdTimestamp}} </ion-label>-->\\r\\n<!--                <ion-label> {{visit.nurse}} </ion-label>-->\\r\\n                <ion-label> {{visit.data.getDate() }}/{{visit.data.getMonth()}}/{{visit.data.getFullYear()}} </ion-label>\\r\\n                <ion-label class=\\\"ion-text-wrap\\\"> {{visit.treatment}} </ion-label>\\r\\n\\r\\n\\r\\n\\r\\n              </ion-item>\\r\\n\\r\\n            </ion-infinite-scroll>\\r\\n\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n\\r\\n  </ion-grid>\\r\\n\\r\\n</ion-content>\\r\\n\";","import {IHistorical} from '../models/interface.historical.model';\r\nimport {Visit} from './class.visit';\r\n\r\nexport class Historical implements IHistorical{\r\n  visits: Visit[];\r\n\r\n  constructor(data: any) {\r\n    this.visits = [];\r\n    // console.log('hola soy el constructor historial');\r\n    // console.log(data);\r\n\r\n\r\n/*    for (let i = 0; i < data.results.length; i++){\r\n      // console.log(data['results'][i]['nurse']);\r\n      // console.log(data['results'][i]['created_at']);\r\n      // console.log(data['results'][i]['description']);\r\n\r\n      this.visits.push( new Visit( data.results[i]));\r\n\r\n    }*/\r\n    for (const visit of data.results){\r\n      if (visit){\r\n        // console.log(visit);\r\n\r\n        this.visits.push(new Visit(visit));\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n}\r\n","export default \".button-add {\\n  font-size: 200%;\\n}\\n\\n.list-status {\\n  display: flex;\\n  flex-direction: row;\\n}\\n\\n.list-status, ion-icon {\\n  font-size: 150%;\\n}\\n\\nion-label {\\n  white-space: normal !important;\\n  transform: none !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGZpY2hhLXBhY2llbnRlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFLQTtFQUNFLGVBQUE7QUFKRjs7QUFRQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtBQUxGOztBQU9BO0VBQ0UsZUFBQTtBQUpGOztBQU9BO0VBQ0UsOEJBQUE7RUFDQSwwQkFBQTtBQUpGIiwiZmlsZSI6ImZpY2hhLXBhY2llbnRlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNpbWctcGF0aWVudCAsICNpbWctcGF0aWVudCBpb24taWNvbntcclxuICAvL3dpZHRoOiA3cmVtO1xyXG4gIC8vaGVpZ2h0OiA3cmVtO1xyXG59XHJcblxyXG4uYnV0dG9uLWFkZHtcclxuICBmb250LXNpemU6IDIwMCU7XHJcbn1cclxuXHJcblxyXG4ubGlzdC1zdGF0dXN7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG59XHJcbi5saXN0LXN0YXR1cyAsIGlvbi1pY29uIHtcclxuICBmb250LXNpemU6IDE1MCU7XHJcbn1cclxuXHJcbmlvbi1sYWJlbCB7XHJcbiAgd2hpdGUtc3BhY2U6IG5vcm1hbCAhaW1wb3J0YW50O1xyXG4gIHRyYW5zZm9ybTogbm9uZSAhaW1wb3J0YW50O1xyXG59XHJcbiJdfQ== */\";","import {Component, OnInit} from '@angular/core';\r\nimport {PacientesService} from '../service/pacientes.service';\r\nimport {IPatient} from '../models/interface.patient.model';\r\nimport {Patient} from '../class/class.patient';\r\n\r\nimport {fakeAsync} from '@angular/core/testing';\r\nimport {HistoricalService} from '../service/historical.service';\r\nimport {Historical} from '../class/class.historical';\r\nimport {AuthenticationService} from '../service/authentication.service';\r\nimport {first} from 'rxjs/operators';\r\nimport {HttpEvent, HttpEventType, HttpResponse} from '@angular/common/http';\r\nimport {Router} from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-ficha-paciente',\r\n  templateUrl: './ficha-paciente.page.html',\r\n  styleUrls: ['./ficha-paciente.page.scss'],\r\n})\r\nexport class FichaPacientePage implements OnInit {\r\n  patient: Patient;\r\n  historical: Historical;\r\n  private idPaciente: number;\r\n  headers: string[];\r\n  progress: number;\r\n  isUpdateConstant: boolean;\r\n\r\n\r\n\r\n  constructor(\r\n    private pacienteService: PacientesService,\r\n    private  historicalService: HistoricalService,\r\n    private  auth: AuthenticationService,\r\n    private router: Router) {\r\n\r\n    this.progress = 0;\r\n    this.isUpdateConstant = false;\r\n\r\n\r\n  }\r\n\r\n  private loginPromise() {\r\n    console.log('LOGIN PROMISE .ts ficha paciente');\r\n    this.auth.loginPromise('admin', 'admin').then(\r\n      (data: any) => {\r\n\r\n        console.log('RESPUESTA EN FICHA PACINETE');\r\n        console.log(data);\r\n\r\n        console.log(data.body);\r\n        this.auth.setSessionID(data.body.cookie);\r\n\r\n\r\n      }\r\n    );\r\n  }\r\n\r\n  ngOnInit() {\r\n    console.log('id paciente',  this.pacienteService.getIdPacient());\r\n    this.idPaciente = this.pacienteService.getIdPacient();\r\n\r\n    this.getDataPatientFile();\r\n  }\r\n\r\n\r\n  public getDataPatientFile() {\r\n    this.pacienteService.getPaciente(this.idPaciente).subscribe(data => {\r\n      console.log('En ficha paciente');\r\n      console.log(data);\r\n      this.patient = new Patient(data);\r\n      this.getDataPatientHistorical(this.patient.id);\r\n\r\n    });\r\n  }\r\n\r\n  private getDataPatientHistorical(idPatient: number) {\r\n    this.historicalService.getHistorical(idPatient).subscribe(data => {\r\n      console.log('Historial paciente ', idPatient);\r\n      console.log(data);\r\n      this.historical = new Historical( data);\r\n\r\n    });\r\n  }\r\n\r\n  verVisitaPaciente( id: any){\r\n    console.log('ir a la visita con ID', id);\r\n    this.pacienteService.setIdVisita(id);\r\n    this.router.navigate(['/visita']);\r\n  }\r\n  addVisitaPaciente() {\r\n    this.router.navigate(['/add-visita']);\r\n  }\r\n\r\n  add() {\r\n\r\n  }\r\n\r\n  onChangeStatus($event: any) {\r\n    console.log('valor evento', $event.target.value);\r\n\r\n    this.patient.setCurrentStatus( $event.target.value);\r\n    this.postFilePatient();\r\n\r\n  }\r\n\r\n  onChangeConstants(idElement: string, newValue: string) {\r\n\r\n    // console.log('valor de id' , idElement);\r\n    // console.log('valor de constante cambiada', newValue);\r\n    this.isUpdateConstant = true;\r\n    switch (idElement) {\r\n      case 'tension':\r\n        this.patient.setTension(newValue);\r\n        break;\r\n      case 'temperature':\r\n        this.patient.setTemperature(newValue);\r\n        break;\r\n      case 'heardRate':\r\n        this.patient.setHeardRate(newValue);\r\n        break;\r\n    }\r\n    // console.log(this.patient);\r\n  }\r\n\r\n  postFilePatient() {\r\n    this.pacienteService.saveFilePatient(this.patient).subscribe((event: HttpEvent<any>) => {\r\n\r\n      switch (event.type){\r\n        case HttpEventType.Sent:\r\n          console.log('Request send');\r\n          break;\r\n        case HttpEventType.ResponseHeader:\r\n          console.log('Response header has ben received!', event.headers);\r\n          break;\r\n        case HttpEventType.UploadProgress:\r\n          this.progress = Math.round(event.loaded / event.total * 100);\r\n          console.log(`Progress ... ${this.progress} %`);\r\n          break;\r\n        case HttpEventType.Response:\r\n          console.log('Paciente actualizado', event.body);\r\n          setTimeout(() => {\r\n            this.progress = 0;\r\n          }, 1500);\r\n      }\r\n    });\r\n\r\n\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { FichaPacientePageRoutingModule } from './ficha-paciente-routing.module';\r\n\r\nimport { FichaPacientePage } from './ficha-paciente.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    FichaPacientePageRoutingModule\r\n  ],\r\n  declarations: [FichaPacientePage]\r\n})\r\nexport class FichaPacientePageModule {}\r\n"],"sourceRoot":"webpack:///"}